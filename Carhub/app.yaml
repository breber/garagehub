application: car-hub
version: endpoints
runtime: python27
api_version: 1
threadsafe: yes

handlers:
# Endpoints handler
- url: /_ah/spi/.*
  script: api.application

- url: /favicon\.ico
  static_files: favicon.ico
  upload: favicon\.ico

- url: /static
  static_dir: static

- url: /robots.txt
  static_files: static/robots.txt
  upload: static/robots.txt

- url: /tools/?.*
  script: tools.app

- url: /admin/?.*
  script: admin.app
  login: admin

- url: /brian/?.*
  script: brian.app
  login: admin

- url: /cron/?.*
  script: admin.app
  login: admin

- url: /database/?.*
  script: databaseupgrade.app
  login: admin

- url: /settings/?.*
  script: settings.app
  login: required

- url: /vehicle/?.*
  script: vehicle.app
  login: required

- url: /api/?.*
  script: api_old.app
  login: required

- url: .*
  script: main.app

libraries:
- name: webapp2
  version: "latest"

builtins:
- deferred: on

inbound_services:
- warmup
